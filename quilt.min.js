(function(){var a=this,b=a.Quilt={};b.VERSION="0.0.1";var c=/-([a-z]|[0-9])/ig,d=function(a,b){return(b+"").toUpperCase()};b.attributes={};var e=b.View=Backbone.View.extend({constructor:function(a){this.views=[],a&&a.template&&(this.template=a.template),Backbone.View.apply(this,arguments)},render:function(){var a,f,g,h,i,j;while(g=this.views.pop())g.destroy&&g.destroy();this.template&&this.$el.html(this.template({view:this,model:this.model,collection:this.collection})),a=this.$("*").get();while(f=a.pop()){i=f.attributes;for(var k=0;k<i.length;k++){if((h=i[k].name).indexOf("data-")!==0)continue;h=h.replace(/^data-/,"").replace(c,d);if(!(j=b.attributes[h]))continue;g=j.call(this,f,$(f).data(h)),g instanceof e&&this.views.push(g.render())}}return this},destroy:function(){return this.undelegateEvents(),_.invoke(this.views,"destroy"),this.model&&this.model.off(null,null,this),this.collection&&this.collection.off(null,null,this),this}})})();